/*
===============================================================================
 Name        : multicore_rfft_basic_m4.c
 Author      : $(author)
 Version     :
 Copyright   : $(copyright)
 Description : main definition
===============================================================================
*/

#include "arm_math.h"
#include "arm_const_structs.h"

/* Number of samples */
#define FFT_SAMPLES 64

float32_t inputSignal[FFT_SAMPLES] = {
	0.00000000e+00,  9.95678466e-02,  1.98146143e-01,  2.94755174e-01,
	3.88434796e-01,  4.78253979e-01,  5.63320058e-01,  6.42787610e-01,
	7.15866849e-01,  7.81831482e-01,  8.40025923e-01,  8.89871809e-01,
	9.30873749e-01,  9.62624247e-01,  9.84807753e-01,  9.97203797e-01,
	9.99689182e-01,  9.92239207e-01,  9.74927912e-01,  9.47927346e-01,
	9.11505852e-01,  8.66025404e-01,  8.11938006e-01,  7.49781203e-01,
	6.80172738e-01,  6.03804410e-01,  5.21435203e-01,  4.33883739e-01,
	3.42020143e-01,  2.46757398e-01,  1.49042266e-01,  4.98458857e-02,
	-4.98458857e-02, -1.49042266e-01, -2.46757398e-01, -3.42020143e-01,
	-4.33883739e-01, -5.21435203e-01, -6.03804410e-01, -6.80172738e-01,
	-7.49781203e-01, -8.11938006e-01, -8.66025404e-01, -9.11505852e-01,
	-9.47927346e-01, -9.74927912e-01, -9.92239207e-01, -9.99689182e-01,
	-9.97203797e-01, -9.84807753e-01, -9.62624247e-01, -9.30873749e-01,
	-8.89871809e-01, -8.40025923e-01, -7.81831482e-01, -7.15866849e-01,
	-6.42787610e-01, -5.63320058e-01, -4.78253979e-01, -3.88434796e-01,
	-2.94755174e-01, -1.98146143e-01, -9.95678466e-02, -2.44929360e-16
};

/* RFFT instance, needs to be global */
arm_rfft_fast_instance_f32 S;

int main(void) {

	/* RFFT result goes here */
	float32_t outputSignal[FFT_SAMPLES];

	/* Initialie RFFT instance */
	arm_status status = arm_rfft_fast_init_f32(&S, FFT_SAMPLES);

	if(status == ARM_MATH_SUCCESS) {
		/* Continue if initialization was a success */
		arm_rfft_fast_f32(&S, inputSignal, outputSignal, 0);

		while(1);
	}

	return 0;
}
